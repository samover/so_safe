<ion-view>
    <ion-header-bar align-title="center" class="bar-positive">
    <button class="button button-icon icon ion-navicon" menu-toggle="left"></button>
        <h1 class="title">So Safe</h1>
    </ion-header-bar>

    <ion-content class="center">
        <ion-refresher
            pulling-text="Pull to refresh...">
        </ion-refresher>
        <div class="loader" ng-if="!myHTML">
            <ion-spinner></ion-spinner>
        </div>
        <div ng-controller="ButtonController as btnCtrl">
          <div class="row text-center">
            <div class="col">
              <button id="the_button" class="button" ng-click="btnCtrl.changeStatus()"
              ng-class="{'custombtn-base':btnCtrl.status.message === 'Are you ok?',
              'custombtn-waiting':btnCtrl.status.message === 'Waiting for response',
              'custombtn-response':btnCtrl.status.message === 'I am ok!'}"
              >{{btnCtrl.status.message}}</button>
              {{ btnCtrl.friends }}
            </div>
          </div>

          <div class='row text-center'> 
            <div class='col' ng-repeat='friend in btnCtrl.friends'>
              <p>{{ friend.name }} {{ friend.status }}</p>
            </div>
          </div>
        </div>
    </ion-content>

</ion-view>
